<div class="jumbotron">
  <div class="row justify-content-center">
    <form name="show" #Show="ngForm" (ngSubmit)="searchShow(Show)" >
      <table>
        <tr>
          <td>Screen name</td>
          <td>
            <input name="screenname" type="text" [(ngModel)]="screenname" #Name="ngModel" class="form-control"  placeholder="Enter screen name" autofocus minlength="2">
          </td> 
        </tr>
        <tr>
          <td>Enter movie Id</td>
          <td>
            <input name="movieid" type="text" [(ngModel)]="movieid" #Id="ngModel" class="form-control" placeholder="(Optional)" autofocus>
          </td>
        </tr>
 
        <tr>
          <td>Enter date</td>
          <td>
            <input name="moviedate" type="date" [(ngModel)]="moviedate" #MovieDate="ngModel" class="form-control" autofocus>
          </td>
        </tr>
        <tr>
          <td></td>
          <td style="text-align: center;" >
            <button class="btn btn-success"  [disabled]="!Show.valid" type="submit">Submit</button>
          </td>
        </tr>
      </table>

       
      <div *ngIf="Name.invalid && (Name.dirty || Name.touched)">
        <div *ngIf="Name.errors.required" style="color: red;">Please Enter Screen Name</div>
        <div *ngIf="Name.errors.minlength" style="color: red;">Screen name should be more than 2 characters</div>
      </div>
      
    </form>
  </div>
</div>


<div *ngIf="toggleShowList">
  <table class="table table-dark">
    <tr>
      <th><label>Show ID</label> </th>
      <th><label>Show Name</label> </th>
      <th><label>Seats</label> </th>
      <th><label>Movie name</label> </th>
    </tr>

    <tr class="showsTable" *ngFor= "let i of show; let even=even; let odd=odd" [ngClass]="{odd:odd, even:even}">
      <th>{{i.showId}}</th>
      <th>{{i.showName}}</th>
      <th>{{i.seats}}</th>
      <th>{{i.movie.movieName}}</th>
      <th><button class="btn btn-primary" routerLink="/book/{{i.showId}}">Book</button></th>
    </tr>
  </table>
</div>

<div *ngIf="showError" class="text-center">
  <h2>{{errorMsg}}</h2>
</div>